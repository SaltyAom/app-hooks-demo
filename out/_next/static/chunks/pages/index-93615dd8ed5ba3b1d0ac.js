_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[6],{"/EDR":function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n("23aj")}])},"23aj":function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,a=!1,u=void 0;try{for(var o,i=t[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(c){a=!0,u=c}finally{try{r||null==i.return||i.return()}finally{if(a)throw u}}return n}}(t,e)||function(t,e){if(t){if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.r(e);var u=n("nKUr"),o=n("q1tI"),i=n("8dwN");e.default=function(){var t=Object(o.useRef)(),e=a(Object(i.useShare)(),2),n=e[0],r=e[1],c=a(Object(i.useMedia)(t,{video:!0,audio:!1}),5),l=c[0],s=c[1],f=c[2],d=(c[3],c[4],a(Object(i.useInstall)(),3)),v=d[0],p=d[1],b=d[2],g=a(Object(i.useCaptureImage)(t),2),h=g[0],j=g[1];return Object(u.jsxs)("main",{children:[Object(u.jsx)("video",{ref:t,autoPlay:!0}),f?Object(u.jsx)("button",{onClick:s,children:"Stop"}):Object(u.jsx)("button",{onClick:l,children:"Start"}),Object(u.jsx)("button",{onClick:h,children:"Capture"}),b&&null!==p?Object(u.jsx)("button",{onClick:v,children:"Install"}):null,j?Object(u.jsx)("img",{src:j}):null,r?Object(u.jsx)("button",{onClick:n,children:"Share"}):null]})}},"8dwN":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,a=n("q1tI");!function(t){t.DOMContentLoaded="DOMContentLoaded"}(r||(r={}));var u="undefined"===typeof window;e.useBadge=function(){var t=a.useState("setAppBadge"in navigator),e=t[0],n=t[1];a.useEffect((function(){n("setAppBadge"in navigator)}),[navigator]);return[function(t){e&&navigator.setAppBadge(t)},function(){e&&navigator.clearAppBadge()},e]},e.useCaptureImage=function(t,e){void 0===e&&(e={format:"image/jpg",quality:100});var n=a.useState(null),r=n[0],u=n[1];return[a.useCallback((function(){var n=t.current;if(null!==n){var r=n.offsetWidth,a=n.offsetHeight,o=document.createElement("canvas");o.width=r,o.height=a;var i=o.getContext("2d");null===i||void 0===i||i.drawImage(n,0,0,r,a);var c=e,l=c.format,s=void 0===l?"image/jpg":l,f=c.quality,d=void 0===f?100:f,v=o.toDataURL(s,d);u(v)}}),[t,e]),r]},e.useInstall=function(t){void 0===t&&(t=!0);var e,n=a.useReducer((function(){return!0}),!1),r=n[0],u=n[1],o=a.useState(null),i=o[0],c=o[1],l=a.useState((function(){return new Promise((function(){}))})),s=l[0],f=l[1],d=function(n){e=n,t&&n.preventDefault(),u(),f(e.prompt),e.userChoice.then((function(t){c("accepted"===t.outcome)}))};return a.useEffect((function(){window.addEventListener("beforeinstallprompt",d)}),[]),[s,i,r]},e.useMedia=function(t,e){void 0===e&&(e={video:!0,audio:!0});var n=a.useState(null),r=n[0],u=n[1],o=a.useState(null),i=o[0],c=o[1],l=a.useState(!1),s=l[0],f=l[1],d=a.useCallback((function(){navigator.mediaDevices.getUserMedia(e).then((function(e){null!==t.current&&(t.current.srcObject=e),c(!0),u(e)})).catch((function(){c(!1)}))}),[]);return a.useEffect((function(){f("undefined"!==typeof r&&null!==r)}),[r]),[d,a.useCallback((function(){null!==r&&(r.getTracks().forEach((function(t){t.stop()})),null!==t.current&&(t.current.srcObject=null),u(null))}),[r]),s,i,r]},e.usePwa=function(){var t=a.useState(!1),e=t[0],n=t[1],u=function(){n(navigator.standalone||window.matchMedia("(display-mode: standalone)").matches)};return a.useEffect((function(){window.addEventListener(r.DOMContentLoaded,u,{once:!0})}),[]),[e]},e.useShare=function(t){var e=!u&&"share"in navigator,n=a.useState(e),r=n[0],o=n[1];return a.useEffect((function(){o(e)}),[o]),[function(){r&&navigator.share(t)},r]}},Qetd:function(t,e,n){"use strict";var r=Object.assign.bind(Object);t.exports=r,t.exports.default=t.exports}},[["/EDR",0,1]]]);